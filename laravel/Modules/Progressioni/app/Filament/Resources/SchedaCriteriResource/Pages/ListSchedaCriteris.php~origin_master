<?php

namespace Modules\Progressioni\Filament\Resources\SchedaCriteriResource\Pages;

use Filament\Actions;
use Illuminate\Support\Arr;
use Filament\Resources\Pages\ListRecords;
use Modules\Progressioni\Models\SchedaCriteri;
use Modules\Xot\Filament\Actions\Header\ExportXlsAction;
use Modules\Ptv\Filament\Actions\Header\CopyFromLastYearAction;
use Modules\Xot\Actions\Filament\Actions\CopyFromLastYearButton;
use Modules\Progressioni\Filament\Resources\SchedaCriteriResource;

class ListSchedaCriteris extends \Modules\Xot\Filament\Resources\Pages\XotBaseListRecords
{
    protected static string $resource = SchedaCriteriResource::class;

    protected function getHeaderActions(): array
    {


        $anno = Arr::get($this->tableFilters, 'anno.value');

        return [
            Actions\CreateAction::make(),
            ExportXlsAction::make(),
            CopyFromLastYearAction::make(),
            app(CopyFromLastYearButton::class)
                ->execute(SchedaCriteri::class, 'anno', $anno),
        ];

    }
}
