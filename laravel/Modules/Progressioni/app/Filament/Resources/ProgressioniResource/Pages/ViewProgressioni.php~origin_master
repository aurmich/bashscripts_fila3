<?php

declare(strict_types=1);

namespace Modules\Progressioni\Filament\Resources\ProgressioniResource\Pages;

use Filament\Actions;
use Filament\Infolists\Infolist;
use Filament\Infolists\Components;
use Filament\Resources\Components\Tab;
use Filament\Resources\Pages\ViewRecord;
use Modules\Ptv\Filament\Infolists as PtvInfolists;
use Modules\Progressioni\Filament\Infolists as ProgressioniInfolists;
use Modules\Ptv\Filament\Infolists\WorkerSection;
use Modules\Progressioni\Filament\Resources\ProgressioniResource;
use Filament\Infolists\Components\Livewire;
use Modules\Progressioni\Filament\Resources\ProgressioniResource\RelationManagers;

class ViewProgressioni extends ViewRecord {
    protected static string $resource = ProgressioniResource::class;

    protected function getHeaderActions(): array {
        return [
            Actions\DeleteAction::make(),
        ];
    }

   

    public function infolist(Infolist $infolist): Infolist {

        $year=2023;

        return $infolist
            ->schema([
                PtvInfolists\WorkerSection::make('Lavoratore'),
                
                ProgressioniInfolists\HaDirittoSection::make(),
                ProgressioniInfolists\CriteriValutazioneSection::setYear($year)->configure(),
                //ProgressioniInfolists\CriteriValutazioneSection::make(''),
                //Livewire::make(ProgressioniInfolists\CriteriValutazioneSection::class, ['year' => 2023]),
                //ProgressioniInfolists\CriteriPrecedenzaSection::make('Criteri Precedenza'),
                ProgressioniInfolists\CriteriPrecedenzaSection::setYear($year)->configure(),
                PtvInfolists\RepSection::make(),
                PtvInfolists\QuaSection::make(),
                //PtvInfolists\Qua00fYearSection::make(),
                //PtvInfolists\Qua00fSection::make(), //-- moved to relationsManager
                //PtvInfolists\Qua03fSection::make(), //-- moved to RelationManager
                //PtvInfolists\AssenzeSection::make(), // non serve
                PtvInfolists\AszEffSection::make(), //-- moved to relationManager
                
            ]);
    }

    /* va in progressioniResource
    public function getRelations():array {
       
        return [
            RelationManagers\Qua00fRelationManager::class,
        ];
    }
    */
}
