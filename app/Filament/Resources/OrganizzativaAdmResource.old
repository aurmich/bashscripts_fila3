<?php

declare(strict_types=1);

namespace Modules\Performance\Filament\Resources;

use Filament\Forms;
use Filament\Forms\Form;
use Filament\Tables;
use Filament\Tables\Table;
use Modules\Performance\Filament\Resources\OrganizzativaAdmResource\Pages;
use Modules\Performance\Models\OrganizzativaAdm;
use Modules\Xot\Filament\Resources\XotBaseResource;

use function Safe\date;

class OrganizzativaAdmResource extends XotBaseResource
{
    protected static ?string $model = OrganizzativaAdm::class;

    protected static ?string $navigationIcon = 'heroicon-o-rectangle-stack';

    public static function form(Form $form): Form
    {
        return $form->schema(
            [
                Forms\Components\TextInput::make('type')
                    ->maxLength(50),
                Forms\Components\TextInput::make('ente')
                    ->required()
                    ->numeric()
                    ->default(0),
                Forms\Components\TextInput::make('matr')
                    ->numeric(),
                Forms\Components\TextInput::make('cognome')
                    ->maxLength(250),
                Forms\Components\TextInput::make('nome')
                    ->maxLength(250),
                Forms\Components\TextInput::make('email')
                    ->email()
                    ->maxLength(250),
                Forms\Components\TextInput::make('stabi')
                    ->numeric(),
                Forms\Components\TextInput::make('repar')
                    ->numeric(),
                Forms\Components\TextInput::make('stabival')
                    ->numeric(),
                Forms\Components\TextInput::make('reparval')
                    ->numeric(),
                Forms\Components\TextInput::make('stabi_txt')
                    ->maxLength(250),
                Forms\Components\TextInput::make('repar_txt')
                    ->maxLength(250),
                Forms\Components\TextInput::make('disci')
                    ->numeric(),
                Forms\Components\TextInput::make('disci_txt')
                    ->maxLength(100),
                Forms\Components\TextInput::make('rep2kd')
                    ->numeric(),
                Forms\Components\TextInput::make('rep2ka')
                    ->numeric(),
                Forms\Components\TextInput::make('posiz')
                    ->numeric(),
                Forms\Components\TextInput::make('propro')
                    ->numeric(),
                Forms\Components\TextInput::make('posfun')
                    ->numeric(),
                Forms\Components\TextInput::make('categoria_eco')
                    ->maxLength(50),
                Forms\Components\TextInput::make('qua2kd')
                    ->numeric(),
                Forms\Components\TextInput::make('qua2ka')
                    ->numeric(),
                Forms\Components\TextInput::make('dal')
                    ->numeric(),
                Forms\Components\TextInput::make('al')
                    ->numeric(),
                Forms\Components\TextInput::make('anno')
                    ->numeric(),
                Forms\Components\TextInput::make('giornitempodet')
                    ->numeric(),
                Forms\Components\TextInput::make('ha_diritto')
                    ->numeric(),
                Forms\Components\TextInput::make('motivo')
                    ->maxLength(250),
                Forms\Components\TextInput::make('esperienza_acquisita')
                    ->numeric(),
                Forms\Components\TextInput::make('risultati_ottenuti')
                    ->numeric(),
                Forms\Components\TextInput::make('arricchimento_professionale')
                    ->numeric(),
                Forms\Components\TextInput::make('impegno')
                    ->numeric(),
                Forms\Components\TextInput::make('qualita_prestazione')
                    ->numeric(),
                Forms\Components\TextInput::make('totale_punteggio')
                    ->numeric(),
                Forms\Components\TextInput::make('lista_auth')
                    ->maxLength(250),
                Forms\Components\TextInput::make('peso_esperienza_acquisita')
                    ->numeric(),
                Forms\Components\TextInput::make('peso_risultati_ottenuti')
                    ->numeric(),
                Forms\Components\TextInput::make('peso_arricchimento_professionale')
                    ->numeric(),
                Forms\Components\TextInput::make('peso_impegno')
                    ->numeric(),
                Forms\Components\TextInput::make('peso_qualita_prestazione')
                    ->numeric(),
                Forms\Components\DateTimePicker::make('datemod'),
                Forms\Components\Textarea::make('note')
                    ->columnSpanFull(),
                Forms\Components\TextInput::make('oree')
                    ->numeric(),
                Forms\Components\TextInput::make('oret')
                    ->numeric(),
                Forms\Components\TextInput::make('perc_parttime')
                    ->numeric(),
                Forms\Components\TextInput::make('perc_parttimepond')
                    ->numeric(),
                Forms\Components\TextInput::make('gg_parttimevert')
                    ->numeric(),
                Forms\Components\TextInput::make('ore_assenza')
                    ->numeric(),
                Forms\Components\TextInput::make('giorni_assenza')
                    ->numeric(),
                Forms\Components\TextInput::make('giorni_presenza')
                    ->numeric(),
                Forms\Components\TextInput::make('categ_coeff')
                    ->numeric(),
                Forms\Components\TextInput::make('quota_teorica')
                    ->numeric(),
                Forms\Components\TextInput::make('budget_assegnato')
                    ->numeric(),
                Forms\Components\TextInput::make('quota_effettiva')
                    ->numeric(),
                Forms\Components\TextInput::make('resti')
                    ->numeric(),
                Forms\Components\TextInput::make('resti_pond')
                    ->numeric(),
                Forms\Components\TextInput::make('importo_totale')
                    ->numeric(),
                Forms\Components\TextInput::make('gg_totale_sigma')
                    ->numeric(),
                Forms\Components\TextInput::make('gg_validi_sigma')
                    ->numeric(),
                Forms\Components\TextInput::make('gg_assenz_sigma')
                    ->numeric(),
                Forms\Components\TextInput::make('decurtazione_perc')
                    ->numeric(),
                Forms\Components\TextInput::make('gg_tempo_determinato')
                    ->numeric(),
                Forms\Components\TextInput::make('gg_posiz_1_in_sede')
                    ->numeric(),
                Forms\Components\TextInput::make('gg_assenza_anno')
                    ->numeric(),
                Forms\Components\TextInput::make('gg_presenza_anno')
                    ->numeric(),
                Forms\Components\TextInput::make('gg_ruolo')
                    ->numeric(),
                Forms\Components\TextInput::make('last_data_assunz')
                    ->numeric(),
                Forms\Components\TextInput::make('ore_assenza_anno')
                    ->numeric(),
Forms\Components\TextInput::make('posiz_txt')
                    ->maxLength(255),
                Forms\Components\TextInput::make('clafun')
                    ->numeric(),
                Forms\Components\TextInput::make('disci1')
                    ->numeric(),
                Forms\Components\TextInput::make('disci1_txt')
                    ->maxLength(255),
                Forms\Components\TextInput::make('gg_assenza_dalal')
                    ->numeric(),
                Forms\Components\TextInput::make('hh_assenza_anno')
                    ->numeric(),
                Forms\Components\TextInput::make('hh_assenza_dalal')
                    ->numeric(),
                Forms\Components\TextInput::make('gg_parttimevert_anno')
                    ->numeric(),
                Forms\Components\TextInput::make('perc_parttimepond_anno')
                    ->numeric(),
                Forms\Components\TextInput::make('perc_parttimepond_dalal')
                    ->numeric(),
                Forms\Components\TextInput::make('gg_parttimevert_dalal')
                    ->numeric(),
                Forms\Components\TextInput::make('gg_presenza_dalal')
                    ->numeric(),
                Forms\Components\TextInput::make('perc_parttime_dalal')
                    ->numeric(),
                Forms\Components\TextInput::make('perc_parttime_anno')
                    ->numeric(),
                Forms\Components\TextInput::make('posizione_eco')
                    ->required()
                    ->maxLength(191),
                Forms\Components\TextInput::make('gg_anno')
                    ->required()
                    ->numeric(),
            ]);
    }

    public static function table(Table $table): Table
    {
        return $table->columns(
            [
                Tables\Columns\TextColumn::make('type')
                ->searchable(),
                Tables\Columns\TextColumn::make('ente')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('matr')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('cognome')
                    ->searchable(),
                Tables\Columns\TextColumn::make('nome')
                    ->searchable(),
                Tables\Columns\TextColumn::make('email')
                    ->searchable(),
                Tables\Columns\TextColumn::make('stabi')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('repar')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('stabival')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('reparval')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('stabi_txt')
                    ->searchable(),
                Tables\Columns\TextColumn::make('repar_txt')
                    ->searchable(),
                Tables\Columns\TextColumn::make('disci')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('disci_txt')
                    ->searchable(),
                Tables\Columns\TextColumn::make('rep2kd')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('rep2ka')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('posiz')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('propro')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('posfun')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('categoria_eco')
                    ->searchable(),
                Tables\Columns\TextColumn::make('qua2kd')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('qua2ka')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('dal')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('al')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('anno')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('giornitempodet')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('ha_diritto')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('motivo')
                    ->searchable(),
                Tables\Columns\TextColumn::make('esperienza_acquisita')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('risultati_ottenuti')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('arricchimento_professionale')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('impegno')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('qualita_prestazione')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('totale_punteggio')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('lista_auth')
                    ->searchable(),
                Tables\Columns\TextColumn::make('peso_esperienza_acquisita')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('peso_risultati_ottenuti')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('peso_arricchimento_professionale')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('peso_impegno')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('peso_qualita_prestazione')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('datemod')
                    ->dateTime()
                    ->sortable(),
                Tables\Columns\TextColumn::make('oree')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('oret')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('perc_parttime')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('perc_parttimepond')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('gg_parttimevert')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('ore_assenza')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('giorni_assenza')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('giorni_presenza')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('categ_coeff')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('quota_teorica')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('budget_assegnato')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('quota_effettiva')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('resti')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('resti_pond')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('importo_totale')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('gg_totale_sigma')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('gg_validi_sigma')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('gg_assenz_sigma')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('decurtazione_perc')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('gg_tempo_determinato')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('gg_posiz_1_in_sede')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('gg_assenza_anno')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('gg_presenza_anno')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('gg_ruolo')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('last_data_assunz')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('ore_assenza_anno')
                    ->numeric()
                    ->sortable(),

                Tables\Columns\TextColumn::make('posiz_txt')
                    ->searchable(),
                Tables\Columns\TextColumn::make('clafun')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('disci1')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('disci1_txt')
                    ->searchable(),
                Tables\Columns\TextColumn::make('gg_assenza_dalal')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('hh_assenza_anno')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('hh_assenza_dalal')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('gg_parttimevert_anno')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('perc_parttimepond_anno')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('perc_parttimepond_dalal')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('gg_parttimevert_dalal')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('gg_presenza_dalal')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('perc_parttime_dalal')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('perc_parttime_anno')
                    ->numeric()
                    ->sortable(),
                Tables\Columns\TextColumn::make('posizione_eco')
                    ->searchable(),
                Tables\Columns\TextColumn::make('gg_anno')
                    ->numeric()
                    ->sortable(),
            ])
            ->filters([
                app(\Modules\Xot\Actions\Filament\Filter\GetYearFilter::class)->execute('anno', intval(date('Y')) -  3, intval(date('Y'))),
            ], layout: Tables\Enums\FiltersLayout::AboveContent)
                ->persistFiltersInSession()
            ->actions([
                Tables\Actions\EditAction::make(),
            ])
            ->bulkActions([
                Tables\Actions\BulkActionGroup::make([
                    Tables\Actions\DeleteBulkAction::make(),
                ]),
            ]);
    }

    public static function getRelations(): array
    {
        return [
        ];
    }

    public static function getPages(): array
    {
        return [
            'index' => Pages\ListOrganizzativaAdms::route('/'),
            'create' => Pages\CreateOrganizzativaAdm::route('/create'),
            'edit' => Pages\EditOrganizzativaAdm::route('/{record}/edit'),
        ];
    }
}
